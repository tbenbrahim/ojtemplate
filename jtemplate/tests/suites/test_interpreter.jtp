var testSuite={
    description: 'Interpreter',
    tests: 
    [
        {
            description: 'Check that if then if then else evaluates correctly',
            test: function(){
                var a=1;
                if (a==1)
                    if (a==3)
                        ;
                    else 
                        a=10; // would not run if this else was associated
								// with first if!
                return a==10;
             }
        },{
            description: 'Post increment test',
            test: function(){
                 var a=1;
                 var b=a++;
                 return b==1 && a==2;
            }
        },{
            description: 'Post decrement test',
            test: function(){
                 var a=1;
                 var b=a--;
                 return b==1 && a==0;
            }
        },{
            description: 'Pre increment test',
            test: function(){
                 var a=1;
                 var b=++a;
                 return b==2 && a==2;
            }
        },{
            description: 'Pre decrement test',
            test: function(){
                 var a=3;
                 var b=--a;
                 return b==2 && a==2;
            }
        },{
            description: 'op= tests',
            test: function(){
                 var a=var b=var c=var d=var e=10;
                 return a+=1==11 && b-=1==9 && c*=2==20 && d/=5==2 && e%=3==1 &&
                        a==11 && b==9 && c==20 && d==2 && e==1;
            }
        },{
            description: 'ternary ?: tests',
            test: function(){
                 var a=10;
                 return (a==10?true:false) && (a!=10?false:true);
            }
        },{
            description: 'arithmetic operator precendence',
            test: function(){
                return 2*5+3==3+2*5 && 10-2-2==6 && 20/2/2==5
                && 10/2+2==2+10/2;
            }
        },{
            description: 'for loop test',
            test: function(){
                var a=0;
                for (var i=0;i<100;++i){
                    ++a;
                }
                return a==100;
            }
        },{
            description: 'for loop test with continue',
            test: function(){
                var a=0;
                for (var i=0;i<100;++i){
                    if (i%2==0) continue;
                    ++a;
                }
                return a==50;
            }
        },{
            description: 'for loop test with break',
            test: function(){
                var a=0;
                for (var i=0;i<20;++i){
                    if (i>=10) break;
                    ++a;
                }
                return a==10;
            }
        },{
            description: 'try finally with return in try block',
            test: function(){
        		var a=0;
                var f=function(){
                	try{
                		return 1;
                	}finally{
                		a=2;
                	}
                };
                return f()==1 && a==2;
            }
        },{
            description: 'try finally with return in finally block',
            test: function(){
        		var a=0;
                var f=function(){
                	try{
                		a=2;
                		return a;
                	}finally{
                		return 3;
                	}
                };
                return f()==3 && a==2;            }
        },{
            description: 'try catch with user exception',
            test: function(){
        		try{
        			throw 'test';
        			return false;
        		}catch(e){
        			return e=='test';
        		}
        	}
        },{
        	description: 'try catch with system exception',
        	test: function(){
        		try{
        			var a=[1,2];
        			var b=a[10];
        			return false;
        		}catch(e){
        			return String.startsWith(e,'Reference to undefined');
        		}
        	}
        },{
        	description: 'try finally catch, all steps reached',
        	test: function(){
        		var a=var b=var c=var d=0;
        		try{
        			a=1;
        			try{
        				b=1;
        				var x=a[10];
        			}finally{
        				c=1;
        			}
        		}catch(e){
        			d=1;
        		}
        		return a==1 && b==1 && c==1 && d==1;
        	}
        },{
        	description: 'try finally catch, catch after finally',
        	test: function(){
        		var a=0;
        		try{
        			try{
        				var x=a[10];
        			}finally{
        				a=10;
        			}
        		}catch(e){
        			a=1;
        		}
        		return a==1;
        	}
        }
    ]
};    

